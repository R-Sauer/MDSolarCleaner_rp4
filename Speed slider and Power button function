#button array to store all the buttons created 
buttons=[]


# Function to toggle power of step motor
def disable_buttons():
    for button in buttons:
        button.config(state=tk.DISABLED)

def enable_buttons():
    for button in buttons:
        button.config(state=tk.NORMAL)

def toggle_power():
    global buttons_disabled
    if buttons_disabled:
        enable_buttons()
    else:
        disable_buttons()
        emergency_stop()
        stop_brush_motor(brush_motor_1)
        stop_brush_motor(brush_motor_2)
    buttons_disabled = not buttons_disabled

buttons_disabled = False






#line 360
# Step Motor Speed
# Text input for speed of step motor
lbl_M_speed = tk.Label(root, text="Step Motor Speed in m/s:")
lbl_M_speed.grid(row=3, column=4)
#entry_M_speed = tk.Entry(root)
#entry_M_speed.grid(row=3, column=5)

#var_speed_1 = tk.StringVar(value="Geschwindigkeit wählen")
#speed_menu_1 = ttk.Combobox(root, textvariable=var_speed_1, values=["0.1", "0.2", "0.3", "0.4", "0.5", "0.6"])
#speed_menu_1.grid(row=3, column=5)

# Slider for speed selection
var_speed_1 = tk.DoubleVar(value=0.1)
speed_slider_1 = tk.Scale(root, variable=var_speed_1, from_=0.1, to=0.6, resolution=0.05, orient='horizontal')
speed_slider_1.grid(row=3, column=5)

# Button to set step motor speed
btn_set_M_speed = tk.Button(root, text="Set Speed", command=lambda: set_step_motor_speed(float(var_speed_1.get())))
btn_set_M_speed.grid(row=4, column=4)
buttons.append(btn_set_M_speed)

# Button to set step motor speed
#btn_set_M_speed = tk.Button(root, text="Set Speed", command=lambda: set_step_motor_speed(float(var_speed_1.get())))
#btn_set_M_speed.grid(row=4, column=4)

# ----------------------------------------------------------------

# Brush Motor Speed
# Text input for speed of step motor
lbl_B_speed = tk.Label(root, text="Bürste Motor Speed in percent:")
lbl_B_speed.grid(row=11, column=0)
entry_B_speed = tk.DoubleVar(value=0)
entry_B_speed_slider = tk.Scale(root, variable=entry_B_speed, from_=0, to=100, resolution=10, orient='horizontal')
entry_B_speed_slider.grid(row=11, column=1)


# Button to set Bürste motor speed
btn_set_B_speed = tk.Button(root, text="Set Speed", command=lambda: set_brush_motor_speed(float(entry_B_speed.get())))
# btn_set_B_speed = tk.Button(root, text="Set Speed", command=lambda: none)
btn_set_B_speed.grid(row=12, column=0)
buttons.append(btn_set_B_speed)
